<div class="day-hover" [ngStyle]="hoverStyle | async">
  <p class="py-2 px-3 my-auto text-center">
    {{ (hoverDate | date) || 'Date' }}: {{ hoverCount || '0' }}
  </p>
</div>

<svg [attr.height]="(weeks?.length + 1) * 21">
  <g transform="translate(0, 20)">
    <text text-anchor="middle" x="20" y="0" class="calendar-text" i18n="@@dayMon">Mon</text>
    <text text-anchor="middle" x="61" y="0" class="calendar-text" i18n="@@dayTue">Tue</text>
    <text text-anchor="middle" x="102" y="0" class="calendar-text" i18n="@@dayWed">Wed</text>
    <text text-anchor="middle" x="143" y="0" class="calendar-text" i18n="@@dayThu">Thu</text>
    <text text-anchor="middle" x="184" y="0" class="calendar-text" i18n="@@dayFri">Fri</text>
    <text text-anchor="middle" x="225" y="0" class="calendar-text" i18n="@@daySat">Sat</text>
    <text text-anchor="middle" x="266" y="0" class="calendar-text" i18n="@@daySun">Sun</text>

    <g *ngFor="let week of weeks; let i = index" [attr.transform]="'translate(0, ' + (i * 21 + 3) + ')'">
      <rect
        *ngFor="let day of [1, 2, 3, 4, 5, 6, 7]; let j = index"
        width="40"
        height="20"
        class="day"
        [attr.x]="j * 41"
        y="0"
        [attr.fill]="weeks[i].days[j].color"
        (click)="onHover(i, j)"
        (mouseover)="onHover(i, j)">
      </rect>
    </g>
  </g>
</svg>
